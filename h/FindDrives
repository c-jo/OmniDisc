/**
 * Find which drives are available for a given filecore filing system.
 */

#ifndef FINDDRIVES_H
#define FINDDRIVES_H

#ifdef NO_STDBOOL
#ifndef BOOL_DEFINED
#define BOOL_DEFINED
typedef enum {false, true} bool;
#endif
#else
#include <stdbool.h>
#endif

/* Flags for what drives will be examined and data returned */
#define FFMD_REPORT_REMOVABLE   (1<<0)
#define FFMD_REPORT_FIXED       (1<<1)
#define FFMD_NAME_REMOVABLE     (1<<2)
#define FFMD_NAME_FIXED         (1<<3)

typedef void (*found_filecore_drive_f)(void *private,
                                       int drive_number,
                                       const char *name,
                                       bool is_removeable);

/*******************************************************************
 Function:      find_filecore_module_drives
 Description:   Find which FileCore drives are available for a given FS.
 Parameters:    modname-> module name, used for looking up SWI names
                ffmd_flags = FFMD_* flags to finding discs
                drive_callback -> function to call with the drive numbers
                private-> the private value to pass to callback function
 Returns:       none
 ******************************************************************/
void find_filecore_module_drives(const char *modname,
                                 unsigned long ffmd_flags,
                                 found_filecore_drive_f drive_callback,
                                 void *private);

#endif
