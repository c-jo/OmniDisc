#ifndef FILERX_H
#define FILERX_H

#ifdef NO_STDBOOL
#ifndef BOOL_DEFINED
#define BOOL_DEFINED
typedef enum {false, true} bool;
#endif
#else
#include <stdbool.h>
#endif
#include "Wimp.h"

#include "Icon.h"


#define UNUSED(x) (void)x

char *strdup(const char *src);

extern unsigned task_handle;
extern unsigned pollword;
extern bool     sharefs;

#define Pollword_FS    0x01
#define Pollword_Drive 0x02
#define Pollword_Icon  0x04

typedef struct
{
    unsigned    flags;
    char        discname[12];
    const char *validation;
    int         baricon;
    enum  { ShareUnknown     =-1,
            NotShared        = 0,
            ShareProtected   = 1,
            ShareUnprotected = 2 }
                share;
} Drive;

#define DriveFlags_Present 1
#define DriveFlags_IconBar 2

typedef struct FS_s
{
    char      module[12];
    char      name[8];
    bool      fd_names;
    unsigned  posiion;
    Drive     drive[8];

    struct FS_s *next;
} FS;

extern FS *fses;

extern Icon *icons;

#endif
